{"version":3,"sources":["webpack:///./wp-content/themes/proximis/src/js/components/io.js"],"names":[],"mappings":";;;;;;;;;;AAAA;AAAA;AAAA;AAAuD;AACf;;AAExC;AACA;;AAEA;;AAEA;AACA,QAAQ,6DAAa;;AAErB;;AAEA;AACA;AACA;AACA;AACA,gCAAgC,wBAAwB;AACxD;AACA;AACA,qBAAqB;AACrB,gCAAgC,wBAAwB;AACxD;AACA,iBAAiB;AACjB,aAAa;AACb;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;;AAEA;AACA,mBAAmB,6DAAK,EAAE,gCAAgC;AAC1D;AACA,YAAY,6CAAQ;AACpB;AACA,sBAAsB,2CAAM;AAC5B,aAAa;AACb;AACA;;AAEA;AACA,mBAAmB,6DAAK,EAAE,gCAAgC;AAC1D;AACA,YAAY,6CAAQ;AACpB;AACA,sBAAsB,2CAAM;AAC5B,aAAa;AACb;AACA;AACA;;AAEe,uEAAQ,EAAC","file":"io.js","sourcesContent":["import { query, superPolyfill } from '@stereorepo/sac';\nimport { TweenMax, Power2 } from 'gsap';\n\nconst io = function() {\n    const threshold = 0.15;\n\n    this.resized = true;\n\n    this.init = () => {\n        superPolyfill.initializeIntersectionObserver();\n\n        const objectsToIO = [...document.querySelectorAll('[data-io]')];\n\n        const observer = new IntersectionObserver(\n            entries => {\n                entries.forEach(entry => {\n                    if (entry.intersectionRatio > threshold) {\n                        this[`${entry.target.dataset.io}In`](entry.target);\n                        if (entry.target.hasAttribute('data-io-single'))\n                            observer.unobserve(entry.target);\n                    } else if (entry.intersectionRatio < threshold) {\n                        this[`${entry.target.dataset.io}Out`](entry.target);\n                    }\n                });\n            },\n            {\n                threshold: threshold,\n                rootMargin: '-100px 0px'\n            }\n        );\n\n        objectsToIO.forEach(obj => {\n            if (!obj.hasAttribute('data-io-observed')) {\n                observer.observe(obj);\n                obj.setAttribute('data-io-observed', '');\n            }\n        });\n    };\n\n    this.highlightedIn = entry => {\n        let line = query({ selector: '.line', ctx: entry });\n        if (line) {\n            TweenMax.to(line, 0.5, {\n                scaleX: 1,\n                ease: Power2.easeInOut\n            });\n        }\n    };\n\n    this.highlightedOut = entry => {\n        let line = query({ selector: '.line', ctx: entry });\n        if (line) {\n            TweenMax.to(line, 0.2, {\n                scaleX: 0,\n                ease: Power2.easeOut\n            });\n        }\n    };\n};\n\nexport default new io();\n"],"sourceRoot":""}