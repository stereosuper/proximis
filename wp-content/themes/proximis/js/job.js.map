{"version":3,"sources":["webpack:///./node_modules/@stereorepo/collant/src/components/Collant.js","webpack:///./node_modules/@stereorepo/collant/src/index.js","webpack:///./wp-content/themes/proximis/src/js/components/job.js"],"names":[],"mappings":";;;;;;;;;;AAAA;AAAA;AAAkE;;AAElE;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB,2DAAW;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,eAAe,eAAe;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2BAA2B,2DAAW;AACtC,SAAS;AACT;AACA,gBAAgB,2DAAW;AAC3B,gBAAgB,2DAAW;AAC3B;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA,mDAAmD,YAAY;AAC/D;AACA,aAAa;AACb;AACA,sDAAsD,YAAY;AAClE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,4BAA4B,6DAAK;AACjC;AACA;AACA,SAAS;AACT;;AAEA,gCAAgC,6DAAK;AACrC;AACA;AACA,SAAS;AACT;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA,gCAAgC,2DAAW;AAC3C;AACA,SAAS;;AAET,gCAAgC,2DAAW;AAC3C;AACA,SAAS;;AAET,mCAAmC,2DAAW;AAC9C;AACA;AACA;AACA;AACA,QAAQ,2DAAW;AACnB,QAAQ,2DAAW;AACnB,QAAQ,2DAAW;AACnB;AACA;;AAEe,sEAAO,EAAC;;;;;;;;;;;;;AClKvB;AAAA;AAAA;AAAoD;;AAE7C,gBAAgB,2DAAgB;;AAExB;AACf;AACA,CAAC,EAAC;;;;;;;;;;;;;ACNF;AAAA;AAA8C;;AAE9C;AACA;;AAEA;;AAEA,QAAQ,2DAAO;AACf;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEe,yEAAU,EAAC","file":"job.js","sourcesContent":["import { superScroll, query, superWindow } from '@stereorepo/sac';\n\nclass Collant {\n    constructor({\n        ctx = null,\n        selector = '.js-collant-selector',\n        box = '.js-collant-box',\n        offsetTop = '0px',\n        offsetBottom = '0px'\n    }) {\n        this.contextElement = ctx;\n        this.collantSelector = selector;\n        this.boxSelector = box;\n        this.rawOffset = offsetBottom !== '0px' ? offsetBottom : offsetTop;\n        this.offsetPosition = offsetBottom !== '0px' ? 'bottom' : 'top';\n\n        this.state = {\n            resizing: false\n        };\n\n        this.collantElement = null;\n        this.boxElement = null;\n\n        this.boxBoundings = null;\n        this.collantBoundings = null;\n        this.windowPositions = null;\n        this.offset = 0;\n\n        this.scrollHandler = this.scrollHandler.bind(this);\n        this.resizeHandler = this.resizeHandler.bind(this);\n        this.stickIt = this.stickIt.bind(this);\n    }\n    computeOffsetPx() {\n        this.offset = parseInt(this.rawOffset.replace('px', ''), 10);\n    }\n    computeOffsetVh() {\n        this.offset =\n            (parseInt(this.rawOffset.replace('vh', ''), 10) *\n                superWindow.windowHeight) /\n            100;\n    }\n    computeOffset() {\n        switch (true) {\n            case /px$/.test(this.rawOffset):\n                this.computeOffsetPx();\n                break;\n            case /vh$/.test(this.rawOffset):\n                this.computeOffsetVh();\n                break;\n\n            default:\n                break;\n        }\n    }\n    getOffsetParents(element) {\n        const { offsetParent } = element;\n        let offset = element.offsetTop;\n        if (offsetParent) {\n            offset += this.getOffsetParents(offsetParent);\n        }\n        return offset;\n    }\n    setBoundings() {\n        this.boxBoundings = this.boxElement.getBoundingClientRect();\n        this.collantBoundings = this.collantElement.getBoundingClientRect();\n    }\n    getWindowPosition() {\n        this.windowPositions = {\n            y: window.scrollY\n        };\n    }\n    resetCollantProperties() {\n        this.collantElement.style.removeProperty('top');\n        this.collantElement.style.removeProperty('bottom');\n        this.collantElement.style.removeProperty('position');\n    }\n    handleOffset() {\n        let scrollOffset = 0;\n        if (this.offsetPosition === 'top') {\n            scrollOffset = superScroll.scrollTop + this.offset;\n        } else if (this.offsetPosition === 'bottom') {\n            scrollOffset =\n                superScroll.scrollTop +\n                superWindow.h -\n                this.collantBoundings.height -\n                this.offset;\n        }\n\n        const bottomDelimiter =\n            this.boxBoundings.y +\n            this.boxBoundings.height +\n            this.windowPositions.y -\n            this.collantBoundings.height;\n\n        this.resetCollantProperties();\n        if (scrollOffset > bottomDelimiter) {\n            this.collantElement.style.top = 'auto';\n            this.collantElement.style.bottom = '0px';\n            this.collantElement.style.position = 'absolute';\n        } else if (scrollOffset > this.collantDelimiter) {\n            if (this.offsetPosition === 'top') {\n                this.collantElement.style.top = `${this.offset}px`;\n                this.collantElement.style.bottom = 'auto';\n            } else if (this.offsetPosition === 'bottom') {\n                this.collantElement.style.top = 'auto';\n                this.collantElement.style.bottom = `${this.offset}px`;\n            }\n            this.collantElement.style.position = 'fixed';\n        }\n    }\n    scrollHandler() {\n        if (this.state.resizing) return;\n        this.handleOffset();\n    }\n    resizeHandler() {\n        this.resetCollantProperties();\n        this.getWindowPosition();\n        this.setBoundings();\n\n        this.collantDelimiter = this.getOffsetParents(this.collantElement);\n\n        this.state.resizing = false;\n    }\n    stickIt() {\n        [this.boxElement] = query({\n            selector: this.boxSelector,\n            ctx: this.contextElement\n        });\n        if (!this.boxElement) return;\n\n        [this.collantElement] = query({\n            selector: this.collantSelector,\n            ctx: this.boxElement\n        });\n        if (!this.collantElement) return;\n\n        this.computeOffset();\n        this.getWindowPosition();\n        this.setBoundings();\n\n        this.collantDelimiter = this.getOffsetParents(this.collantElement);\n\n        this.scrollHandler();\n        this.scrollFunctionId = superScroll.addScrollFunction(() => {\n            this.scrollHandler();\n        });\n\n        this.resizeFunctionId = superWindow.addResizeFunction(() => {\n            this.state.resizing = true;\n        });\n\n        this.resizeEndFunctionId = superWindow.addResizeEndFunction(\n            this.resizeHandler\n        );\n    }\n    ripIt() {\n        superScroll.removeScrollFunction(this.scrollFunctionId);\n        superWindow.removeResizeFunction(this.resizeFunctionId);\n        superWindow.removeResizeEndFunction(this.resizeEndFunctionId);\n    }\n}\n\nexport default Collant;\n","import CollantComponent from './components/Collant';\n\nexport const Collant = CollantComponent;\n\nexport default {\n    Collant\n};\n","import { Collant } from '@stereorepo/collant';\n\nconst jobHandler = () => {\n    const mail = document.getElementById('job-mail');\n\n    if (!mail) return;\n\n    new Collant({\n        //ctx: mail,\n        selector: mail,\n        box: '.container-tiny',\n        offsetTop: '100px'\n    });\n};\n\nexport default jobHandler;\n"],"sourceRoot":""}